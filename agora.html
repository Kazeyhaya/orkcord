<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agora - Comunidades e Chat</title>
  
  <link rel="stylesheet" href="/assets/style.css">
  <meta name="color-scheme" content="dark">
</head>
<body>
  <div class="app">
    <aside class="servers" aria-label="Comunidades">
      <div id="home-btn" class="server active" title="Agora" style="background: linear-gradient(135deg, var(--orkut-pink), var(--orkut-blue)); font-weight: bold; font-size: 24px;">A</div>
      
      <div class="divider"></div>

      <div id="joined-servers-list"></div>

      <div class="divider"></div>
      <button class="add-btn" id="explore-servers-btn" title="Explorar Comunidades">+</button>
    </aside>

    <header class="header" role="banner">
      <div class="brand" aria-label="Agora" id="header-home-btn">
        <div class="brand-badge">A</div>
        <div class="brand-title">Agora</div>
      </div>
      <div class="header-actions">
        <div class="view-tabs">
          <button class="pill active" data-view="feed">Feed</button>
        </div>
        <button class="pill" id="btn-explore">Explorar</button>
      </div>
    </header>

    <aside class="channels" aria-label="Canais" hidden>
      <div class="community-card">
        <div class="community-avatar" id="community-avatar-channel">AG</div>
        <div class="community-info">
          <div class="community-name" id="community-name-channel">Nome da Comunidade</div>
          <div class="community-sub" id="community-members-count">0 membros</div>
        </div>
      </div>
      
      <div class="view-tabs" style="padding-left: 10px; margin-top: 10px;">
          <button class="pill active" data-community-view="topics">TÃ³picos</button>
          <button class="pill" data-community-view="chat-channels">Chat</button>
          <button class="pill" data-community-view="members">Membros</button>
      </div>
      
      <div id="community-chat-channels">
          <div class="chan-section">
            <div class="chan-title">Canais de Texto</div>
            <div class="channel active" data-channel="geral"><span class="hash">#</span><span>geral</span></div>
            <div class="channel" data-channel="scraps"><span class="hash">#</span><span>scraps</span></div>
            <div class="channel" data-channel="testimonials"><span class="hash">#</span><span>depoimentos</span></div>
            <div class="channel" data-channel="albums"><span class="hash">#</span><span>Ã¡lbuns</span></div>
          </div>
          <div class="chan-section">
            <div class="chan-title">Canais de Voz</div>
            <div class="channel" data-channel="voz-g1">ğŸ™ï¸ geral</div>
            <div class="channel" data-channel="voz-music">ğŸ¶ mÃºsica</div>
          </div>
      </div>
    </aside>

    <section class="feed" id="view-feed">
      <div class="feed-top">
        <div class="chat-topic"><div class="topic-badge">Agora Feed</div><span class="meta">â€” Posts de quem vocÃª segue</span></div>
        <div class="chat-actions"><button class="icon-btn" id="btn-refresh">ğŸ”„</button></div>
      </div>
      <div class="composer-feed">
        <input class="input" id="feedInput" type="text" placeholder="Compartilhe algo..." />
        <button class="send" id="feedSend">Publicar</button>
      </div>
      <div class="posts" id="posts">
      </div>
    </section>

    <main class="chat" aria-live="polite" id="view-chat" hidden>
      <div class="chat-top">
        <div class="chat-topic"><div class="topic-badge" id="topic"># geral</div><span class="meta">â€” Bem-vinde ao Agora!</span></div>
        <div class="chat-actions">
          <button class="icon-btn" title="Pesquisar" id="btn-search">ğŸ”</button>
          <button class="icon-btn" title="Fixados" id="btn-pin">ğŸ“Œ</button>
          <button class="icon-btn" title="Membros" id="btn-members">ğŸ‘¥</button>
        </div>
      </div>
      <div class="messages" id="messages" role="log">
      </div>
      <div class="composer">
        <input class="input" id="composerInput" type="text" placeholder="Envie uma mensagem para #geral" autocomplete="off" aria-label="Mensagem">
        <button class="send" id="sendBtn">Enviar</button>
      </div>
    </main>
    
    <section class="profile" id="view-profile" hidden>
      <div class="profile-top"><div class="chat-topic"><div class="topic-badge">Perfil</div><span class="meta">â€” Seu perfil social</span></div></div>
      <div class="profile-body">
        <div class="card">
          <div class="avatar" style="width:64px;height:64px;border-radius:16px;margin-bottom:8px" id="profileAvatar">VC</div>
          <div><strong id="profileName">VocÃª</strong></div>
          <div class="meta" id="profileBio">Apaixonado por comunidades e bate-papo.</div>
          <div style="margin-top:10px;display:flex;gap:8px">
            <button class="mini-btn" id="editBioBtn">Editar bio</button>
          </div>
        </div>
        <div class="card">
          <h3 style="margin-bottom:8px">Depoimentos</h3>
          <div id="testimonials" class="comments"></div>
          <div style="display:flex;gap:8px;margin-top:10px">
            <input class="input" id="testimonialInput" placeholder="Escreva um depoimento..." />
            <button class="send" id="testimonialSend">Adicionar</button>
          </div>
          <h3 style="margin:12px 0 8px">Amigos</h3>
          <div class="friends" id="friends">
          </div>
        </div>
      </div>
    </section>

    <section class="feed" id="view-explore" hidden>
      <div class="feed-top">
        <div class="chat-topic"><div class="topic-badge">Explorar</div><span class="meta">â€” Todos os posts da rede</span></div>
        <div class="chat-actions"><button class="icon-btn" id="btn-explore-refresh">ğŸ”„</button></div>
      </div>
      <div class="posts" id="explore-posts">
      </div>
    </section>

    <section class="explore-servers" id="view-explore-servers" hidden>
      <div class="explore-servers-top">
        <h2>Explorar Comunidades</h2>
        <button class="mini-btn" id="btn-show-create-community">Criar a Minha</button>
        <p class="meta">Entre em comunidades pÃºblicas e faÃ§a novos amigos</p>
      </div>
      <div class="community-list" id="community-list-container">
      </div>
    </section>

    <section class="create-community" id="view-create-community" hidden>
      <div class="explore-servers-top">
            <h2>Criar Nova Comunidade</h2>
        </div>
        <div class="profile-body" style="grid-template-columns: 1fr;">
            <div class="card" style="max-width: 600px;">
                <form id="create-community-form">
                    <label for="community-name">Nome da Comunidade:</label>
                    <input class="input" id="community-name" type="text" required placeholder="Ex: Clube de ProgramaÃ§Ã£o">
                    
                    <label for="community-emoji" style="margin-top: 10px;">Emoji/Ãcone (Ex: ğŸ’»):</label>
                    <input class="input" id="community-emoji" type="text" placeholder="Opcional. Ex: ğŸŒŸ">
                    
                    <button class="send" type="submit" style="margin-top: 15px;">Criar e Entrar</button>
                    <button type="button" class="mini-btn" id="btn-cancel-create" style="margin-left: 10px;">Cancelar</button>
                </form>
            </div>
        </div>
    </section>
    
    <section class="community-content feed" id="view-community-topics" hidden>
      <div class="feed-top">
            <div class="chat-topic"><div class="topic-badge" id="current-community-name">Nome Com.</div><span class="meta">â€” FÃ³rum de TÃ³picos (Posts)</span></div>
            <div class="chat-actions"><button class="mini-btn" id="btn-new-topic">Novo TÃ³pico</button></div>
        </div>
        <div class="posts" id="community-topic-list">
            <div class="meta" style="padding: 12px;">Nenhum tÃ³pico ainda. Seja o primeiro a iniciar uma discussÃ£o!</div>
        </div>
    </section>
    <section class="community-content profile-body" id="view-community-members" hidden style="grid-template-columns: 1fr;">
      <div class="explore-servers-top" style="border-bottom: none;">
            <h2 id="community-members-title">Membros da Comunidade</h2>
        </div>
        <div class="card">
            <div class="friends" id="community-member-list">
            </div>
        </div>
    </section>


    <footer class="userbar" role="contentinfo">
      <div class="me clickable" id="userbar-me">
        <div class="avatar" id="userAvatar">VC</div>
        <div>
          <div id="userName"><strong id="userName">VocÃª</strong> <span class="meta">@orklover</span></div>
          <div class="meta clickable" id="userbar-mood-container" title="Clique para mudar o seu mood">
            Mood: <span id="userbar-mood" style="color:var(--orkut-pink)">â¤ feliz</span>
          </div>
      </div>
      <div class="user-actions">
        <div class="presence" title="online"></div>
        <button class="icon-btn" title="ConfiguraÃ§Ãµes">âš™ï¸</button>
        <button class="icon-btn" title="Sair">ğŸšª</button>
      </div>
    </footer>
  </div>

  <script src="/socket.io/socket.io.js" defer></script>
  <script src="/assets/script.js" defer></script>
  
</body>
</html>