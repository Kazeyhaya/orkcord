<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agora - Comunidades e Chat</title>

  <link rel="stylesheet" href="/assets/style.css">
  <meta name="color-scheme" content="dark">
</head>
<body>

  <div class="login-overlay" id="login-view" hidden>
    <form class="login-card" id="login-form">
      <div class="brand-badge" style="margin-bottom: 12px; background: linear-gradient(135deg, var(--orkut-pink), var(--orkut-blue)); font-weight: bold; font-size: 24px;">A</div>
      <h2>Bem-vindo ao Agora</h2>
      <p class="meta" style="margin-bottom: 15px;">Digite um nome de usuÃ¡rio para entrar.</p>

      <input class="input" id="login-username-input" placeholder="Seu nome de usuÃ¡rio..." required style="width: 100%; text-align: center;">

      <button class="send" type="submit" style="width: 100%; margin-top: 10px;">Entrar</button>
    </form>
  </div>


  <div class="app" hidden>
    
    <aside class="servers" aria-label="Comunidades">
      <div id="home-btn" class="server active" title="Agora" style="background: linear-gradient(135deg, var(--orkut-pink), var(--orkut-blue)); font-weight: bold; font-size: 24px;">A</div>

      <div class="divider"></div>
      <div id="joined-servers-list"></div>
      <div class="divider"></div>

      <button class="add-btn" id="explore-servers-btn" title="Explorar Comunidades">+</button>
    </aside>

    <header class="header" role="banner">
      <div class="brand" aria-label="Agora" id="header-home-btn">
        <div class="brand-badge">A</div>
        <div class="brand-title">Agora</div>
      </div>
      <div class="header-actions">
        <div class="view-tabs">
          <button class="pill active" data-view="feed">Feed</button>
          <button class="pill" id="btn-explore">Explorar</button>
        </div>
      </div>
    </header>

    <aside class="channels" aria-label="Canais" hidden>
      <div class="community-card">
        <div class="avatar-display community-avatar" id="community-avatar-channel">AG</div>

        <div class="community-info">
          <div class="community-name" id="community-name-channel">Nome da Comunidade</div>
          <div class="community-sub" id="community-members-count">0 membros</div>
        </div>
      </div>

      <div class="view-tabs" style="padding-left: 10px; margin-top: 10px;">
          <button class="pill active" data-community-view="topics">TÃ³picos</button>
          <button class="pill" data-community-view="chat-channels">Chat</button>
          <button class="pill" data-community-view="members">Membros</button>
      </div>

      <div id="community-chat-channels">
          <div class="chan-section">
            <div class="chan-title">Canais de Texto</div>
            <div class="channel active" data-channel="geral"><span class="hash">#</span><span>geral</span></div>
            <div class="channel" data-channel="scraps"><span class="hash">#</span><span>scraps</span></div>
            <div class="channel" data-channel="testimonials"><span class="hash">#</span><span>depoimentos</span></div>
            <div class="channel" data-channel="albums"><span class="hash">#</span><span>Ã¡lbuns</span></div>
          </div>
          <div class="chan-section">
            <div class="chan-title">Canais de Voz</div>
            <div class="channel" data-channel="voz-g1">ğŸ™ï¸ geral</div>
            <div class="channel" data-channel="voz-music">ğŸ¶ mÃºsica</div>
          </div>
      </div>
    </aside>

    <section class="feed" id="view-feed">
      <div class="feed-top">
        <div class="chat-topic"><div class="topic-badge">Agora Feed</div><span class="meta">â€” Posts de quem vocÃª segue</span></div>
        <div class="chat-actions"><button class="icon-btn" id="btn-refresh">ğŸ”„</button></div>
      </div>
      <div class="composer-feed">
        <input class="input" id="feedInput" type="text" placeholder="Compartilhe algo..." />
        <button class="send" id="feedSend">Publicar</button>
      </div>
      <div class="posts" id="posts">
        </div>
    </section>

    <main class="chat" aria-live="polite" id="view-chat" hidden>
      <div class="chat-top">
        <div class="chat-topic"><div class="topic-badge" id="topic"># geral</div><span class="meta">â€” Bem-vinde ao Agora!</span></div>
        <div class="chat-actions">
          <button class="icon-btn" title="Pesquisar" id="btn-search">ğŸ”</button>
          <button class="icon-btn" title="Fixados" id="btn-pin">ğŸ“Œ</button>
          <button class="icon-btn" title="Membros" id="btn-members">ğŸ‘¥</button>
        </div>
      </div>
      <div class="messages" id="messages" role="log">
        </div>
      <div class="composer">
        <input class="input" id="composerInput" type="text" placeholder="Envie uma mensagem para #geral" autocomplete="off" aria-label="Mensagem">
        <button class="send" id="sendBtn">Enviar</button>
      </div>
    </main>

    <section class="profile" id="view-profile" hidden>
      <div class="profile-top"><div class="chat-topic"><div class="topic-badge">Perfil</div><span class="meta">â€” Seu perfil social</span></div></div>
      <div class="profile-body">
        <div class="card">
          <div class="avatar-display profile-avatar" id="profileAvatar" style="width:64px;height:64px;border-radius:16px;margin-bottom:8px">VC</div>
          <label class="mini-btn" for="avatar-upload-input" id="avatar-upload-label" style="display: none; margin-bottom: 8px; justify-content: center;">
            Mudar Foto
          </label>
          <input type="file" id="avatar-upload-input" accept="image/*" hidden>
          <div><strong id="profileName">VocÃª</strong></div>
          <div class="meta" id="profileBio">Apaixonado por comunidades e bate-papo.</div>
          <div class="meta" id="profileMood" style="color:var(--orkut-pink); margin-top: 4px;"></div>

          <div style="margin-top:10px;display:flex;gap:8px">
            <button class="mini-btn" id="editBioBtn">Editar bio</button>
          </div>
        </div>
        <div class="card">
          <h3 style="margin-bottom:8px">Depoimentos</h3>
          <div id="testimonials" class="comments"></div>
          <div style="display:flex;gap:8px;margin-top:10px">
            <input class="input" id="testimonialInput" placeholder="Escreva um depoimento..." />
            <button class="send" id="testimonialSend">Adicionar</button>
          </div>
          <h3 style="margin:12px 0 8px">Amigos</h3>
          <div class="friends" id="friends">
          </div>
        </div>
      </div>
    </section>

    <section class="feed" id="view-explore" hidden>
      <div class="feed-top">
        <div class="chat-topic"><div class="topic-badge">Explorar</div><span class="meta">â€” Posts de toda a rede</span></div>
        <div class="chat-actions"><button class="icon-btn" id="btn-explore-refresh">ğŸ”„</button></div>
      </div>
      <div class="posts" id="explore-posts">
        </div>
    </section>

    <section class="explore-servers" id="view-explore-servers" hidden>
      <div class="explore-servers-top">
        <div>
          <h2>Explorar Comunidades</h2>
          <div class="meta">Encontre seu novo grupo</div>
        </div>
        <button class="send" id="btn-show-create-community">Criar Comunidade</button>
      </div>
      <div class="community-list" id="community-list-container">
        </div>
    </section>

    <section class="create-community" id="view-create-community" hidden>
      <div class="explore-servers-top">
        <div>
          <h2>Criar sua Comunidade</h2>
          <div class="meta">DÃª um nome e um emoji para comeÃ§ar</div>
        </div>
        <button class="mini-btn" id="btn-cancel-create">Cancelar</button>
      </div>
      <div style="padding: 14px;">
        <form class="card" id="create-community-form" style="max-width: 500px; margin: 0 auto;">
          <label for="community-name">Nome da Comunidade</label>
          <input class="input" id="community-name" placeholder="Minha Nova Comunidade" required style="width: 100%; margin-top: 5px;">
          
          <label for="community-emoji" style="margin-top: 15px;">Emoji (opcional)</label>
          <input class="input" id="community-emoji" placeholder="âœ¨" style="width: 100%; margin-top: 5px;">
          
          <button class="send" type="submit" style="width: 100%; margin-top: 20px;">Criar</button>
        </form>
      </div>
    </section>

    <section class="community-content feed" id="view-community-topics" hidden>
      <div class="feed-top">
        <div class="chat-topic"><div class="topic-badge" id="current-community-name">TÃ³picos</div><span class="meta">â€” Posts da comunidade</span></div>
        <div class="chat-actions"><button class="icon-btn" title="Novo TÃ³pico">â•</button></div>
      </div>
      <div class="composer-feed">
        <input class="input" id="communityPostInput" type="text" placeholder="Crie um novo tÃ³pico..." />
        <button class="send" id="communityPostSend">Publicar TÃ³pico</button>
      </div>
      <div class="posts" id="community-topic-list">
        </div>
    </section>

    <section class="community-content profile-body" id="view-community-members" hidden>
      </section>

    <footer class="userbar" role="contentinfo">
      <div class="me clickable" id="userbar-me">
        <div class="avatar-display userbar-avatar" id="userAvatar">VC</div>

        <div>
          <div id="userName"><strong id="userName">VocÃª</strong> <span class="meta">@orklover</span></div>
          <div class="meta clickable" id="userbar-mood-container" title="Clique para mudar o seu mood">
            Mood: <span id="userbar-mood" style="color:var(--orkut-pink)">â¤ feliz</span>
          </div>
        </div>
      </div>
      <div class="user-actions">
        <div class="presence" title="online"></div>
        <button class="icon-btn" title="ConfiguraÃ§Ãµes">âš™ï¸</button>
        <button class="icon-btn" title="Sair">ğŸšª</button>
      </div>
    </footer>
  </div>

  <script src="/socket.io/socket.io.js" defer></script>
  <script src="/assets/script.js" defer></script>

</body>
</html>
